[
  {
    "op": "core/text-transform",
    "description": "Text transform on cells in column Nr using expression grel:row.index + 1",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "columnName": "Nr",
    "expression": "grel:row.index + 1",
    "onError": "keep-original",
    "repeat": false,
    "repeatCount": 10
  },
  {
    "op": "core/text-transform",
    "description": "Text transform on cells in column Comune using expression value.toTitlecase()",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "columnName": "Comune",
    "expression": "value.toTitlecase()",
    "onError": "keep-original",
    "repeat": false,
    "repeatCount": 10
  },
  {
    "op": "core/text-transform",
    "description": "Text transform on cells in column Insegna using expression value.toTitlecase()",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "columnName": "Insegna",
    "expression": "value.toTitlecase()",
    "onError": "keep-original",
    "repeat": false,
    "repeatCount": 10
  },
  {
    "op": "core/column-addition-by-fetching-urls",
    "description": "Create column json at index 5 by fetching URLs based on column Frazione using expression grel:'http://maps.googleapis.com/maps/api/geocode/json?sensor=false&address=' + \nescape(cells['Indirizzo'].value + ',' + cells['Civico'].value + ',' + cells['Frazione'].value + ',Trento,Italia', 'url')",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "newColumnName": "json",
    "columnInsertIndex": 5,
    "baseColumnName": "Frazione",
    "urlExpression": "grel:'http://maps.googleapis.com/maps/api/geocode/json?sensor=false&address=' + \nescape(cells['Indirizzo'].value + ',' + cells['Civico'].value + ',' + cells['Frazione'].value + ',Trento,Italia', 'url')",
    "onError": "set-to-blank",
    "delay": 5000
  },
  {
    "op": "core/column-addition",
    "description": "Create column latitude at index 6 based on column json using expression grel:value.parseJson().results[0].geometry.location.lat",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "newColumnName": "latitude",
    "columnInsertIndex": 6,
    "baseColumnName": "json",
    "expression": "grel:value.parseJson().results[0].geometry.location.lat",
    "onError": "set-to-blank"
  },
  {
    "op": "core/column-addition",
    "description": "Create column longitude at index 6 based on column json using expression grel:value.parseJson().results[0].geometry.location.lng",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "newColumnName": "longitude",
    "columnInsertIndex": 6,
    "baseColumnName": "json",
    "expression": "grel:value.parseJson().results[0].geometry.location.lng",
    "onError": "set-to-blank"
  },
  {
    "op": "core/column-removal",
    "description": "Remove column json",
    "columnName": "json"
  }
]
